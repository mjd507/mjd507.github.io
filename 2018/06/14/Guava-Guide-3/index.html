<!DOCTYPE html><html lang="zh-CN"><head><meta http-equiv="content-type" content="text/html; charset=utf-8"><meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" name="viewport"><meta content="yes" name="apple-mobile-web-app-capable"><meta content="black-translucent" name="apple-mobile-web-app-status-bar-style"><meta content="telephone=no" name="format-detection"><meta name="description"><title>Guava 3 - Collections - 1 | mjd507</title><link rel="stylesheet" type="text/css" href="/css/style.css?v=1.0.0"><link rel="stylesheet" type="text/css" href="/css/dark.css?v=1.0.0"><link rel="stylesheet" type="text/css" href="//cdn.jsdelivr.net/npm/normalize.css/normalize.min.css"><link rel="stylesheet" type="text/css" href="//cdn.jsdelivr.net/npm/purecss/build/pure-min.min.css"><link rel="stylesheet" type="text/css" href="//cdn.jsdelivr.net/npm/purecss/build/grids-responsive-min.css"><link rel="stylesheet" href="//cdn.jsdelivr.net/npm/font-awesome@4.7.0/css/font-awesome.min.css"><script type="text/javascript" src="//cdn.jsdelivr.net/npm/jquery/dist/jquery.min.js"></script><link rel="icon" mask="" sizes="any" href="/favicon.ico"><link rel="Shortcut Icon" type="image/x-icon" href="/favicon.ico"><link rel="apple-touch-icon" href="/apple-touch-icon.png"><link rel="apple-touch-icon-precomposed" href="/apple-touch-icon.png"><script>var _hmt = _hmt || [];
(function() {
  var hm = document.createElement("script");
  hm.src = 'https://hm.baidu.com/hm.js?' + '1c847d4fb515d19b6108f15a5387f1d6';
  var s = document.getElementsByTagName("script")[0];
  s.parentNode.insertBefore(hm, s);
  })();
</script><script type="text/javascript" src="//cdn.jsdelivr.net/npm/clipboard/dist/clipboard.min.js"></script><script type="text/javascript" src="//cdn.jsdelivr.net/gh/codeseven/toastr/build/toastr.min.js"></script><link rel="stylesheet" href="//cdn.jsdelivr.net/gh/codeseven/toastr/build/toastr.min.css"><meta name="generator" content="Hexo 5.4.0"></head><body><div class="body_container"><div id="header"><div class="site-name"><h1 class="hidden">Guava 3 - Collections - 1</h1><a id="logo" href="/.">mjd507</a><p class="description">Stop stopping</p></div><div id="nav-menu"><a class="current" href="/."><i class="fa fa-home"> 首页</i></a><a href="/archives/"><i class="fa fa-archive"> 归档</i></a></div></div><div class="pure-g" id="layout"><div class="pure-u-1 pure-u-md-3-4"><div class="content_container"><div class="post"><h1 class="post-title">Guava 3 - Collections - 1</h1><div class="post-meta">2018-06-14<span> | </span><span class="category"><a href="/categories/Java-Android/">Java &amp; Android</a></span></div><div class="clear"><div class="toc-article" id="toc"><div class="toc-title">文章目录</div><ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#Iterables"><span class="toc-number">1.</span> <span class="toc-text">Iterables</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Lists"><span class="toc-number">2.</span> <span class="toc-text">Lists</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Maps"><span class="toc-number">3.</span> <span class="toc-text">Maps</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Sets"><span class="toc-number">4.</span> <span class="toc-text">Sets</span></a></li></ol></div></div><div class="post-content"><p>Guava 对 JDK 的集合做了很多封装。代码中用到集合的地方，可以先找找 guava 里有没有实现，让代码的可读性更好。</p>
<span id="more"></span>

<h2 id="Iterables"><a href="#Iterables" class="headerlink" title="Iterables"></a>Iterables</h2><p>guava 提供的集合工具方法跟偏于接受 Iterable 类型而不是 Collection 类型，在 Google，对于不存放在主存的集合 ——比如从数据库或其他数据中心收集的结果集，因为实际上还没有攫取全部数据，这类结果集都不能支持类似 size() 的操作 —— 通常都不会用 Collection 类型来表示。因此 guava 提供了 Iterables 类来支持所有集合的操作。</p>
<h2 id="Lists"><a href="#Lists" class="headerlink" title="Lists"></a>Lists</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// List 集合 封装类 Lists</span></span><br><span class="line"><span class="comment">// ==================== ArrayList ==================== //</span></span><br><span class="line">ArrayList list = Lists.newArrayList(); <span class="comment">// 创建一个 ArrayList</span></span><br><span class="line">ArrayList list = Lists.newArrayList(<span class="string">&quot;a&quot;</span>,<span class="string">&quot;b&quot;</span>,<span class="string">&quot;c&quot;</span>); <span class="comment">// 创建带有元素的 ArrayList </span></span><br><span class="line">ArrayList list = Lists.newArrayList(Iterable&lt;? extends E&gt; otherIterable); <span class="comment">// 基于另一个集合创建一个 ArrayList</span></span><br><span class="line">ArrayList list = Lists.newArrayListWithCapacity(<span class="number">10</span>); <span class="comment">// 创建一个容量为 10 的集合</span></span><br><span class="line">ArrayList list = Lists.newArrayListWithExpectedSize(<span class="number">10</span>); <span class="comment">// 创建一个以 10 为基准估算的容量大小，Ints.saturatedCast(5L + arraySize + (arraySize / 10));</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// ==================== LinkedList ==================== //</span></span><br><span class="line">LinkedList list = Lists.newLinkedList(); <span class="comment">// 创建 LinkedList</span></span><br><span class="line">LinkedList list = Lists.newLinkedList(Iterable&lt;? extends E&gt; otherIterable); <span class="comment">// 基于另一个集合创建一个 LinkedList，JDK 7 及以后，可以直接使用 LinkedList 的构造方法传一个集合</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// ... CopyOnWriteArrayList</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 合并集合</span></span><br><span class="line">List&lt;E&gt; list = Lists.asList(<span class="meta">@Nullable</span> E first, E[] rest); <span class="comment">// 将一个元素 和 一个集合 合并成一个集合</span></span><br><span class="line">List&lt;E&gt; list = Lists.asList(<span class="meta">@Nullable</span> E first, <span class="meta">@Nullable</span> E second, E[] rest); <span class="comment">// 将两个元素 和 一个集合 合并成一个集合</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 笛卡尔积</span></span><br><span class="line">List&lt;List&lt;B&gt;&gt; list = Lists.cartesianProduct(List&lt;? extends List&lt;? extends B&gt;&gt; lists); <span class="comment">// 返回多个集合的笛卡尔积值</span></span><br><span class="line">List&lt;List&lt;String&gt;&gt; lists = Lists.cartesianProduct(Arrays.asList(<span class="string">&quot;1&quot;</span>, <span class="string">&quot;2&quot;</span>), Arrays.asList(<span class="string">&quot;a&quot;</span>, <span class="string">&quot;b&quot;</span>, <span class="string">&quot;c&quot;</span>)); <span class="comment">// [[1, a], [1, b], [1, c], [2, a], [2, b], [2, c]]</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 函数式, 更推荐 Java8 的 stream 操作</span></span><br><span class="line">List&lt;T&gt; list = Lists.transform(List&lt;F&gt; fromList, Function&lt;? <span class="keyword">super</span> F, ? extends T&gt; function);</span><br><span class="line">List&lt;Integer&gt; list = Lists.transform(Arrays.asList(<span class="string">&quot;1&quot;</span>, <span class="string">&quot;2&quot;</span>), i -&gt; Integer.parseInt(i) + <span class="number">1</span>); <span class="comment">// [2, 3]</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 集合分块</span></span><br><span class="line">List&lt;List&lt;T&gt;&gt; lists =  Lists.partition(List&lt;T&gt; list, <span class="keyword">int</span> size); <span class="comment">// 按指定大小，将集合分成若干个小集合，最后一个可能会小于指定 size</span></span><br><span class="line">List&lt;List&lt;Integer&gt;&gt; partition = Lists.partition(Ints.asList(<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>), <span class="number">2</span>); <span class="comment">// [[1, 2], [3, 4], [5]]</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 将字符串转换为字符集合</span></span><br><span class="line">ImmutableList&lt;Character&gt; list = Lists.charactersOf(String string);</span><br><span class="line">ImmutableList&lt;Character&gt; list = Lists.charactersOf(<span class="string">&quot;abc&quot;</span>); <span class="comment">// [a, b, c]</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 反转集合</span></span><br><span class="line">List&lt;T&gt; list = reverse(List&lt;T&gt; list);</span><br><span class="line">List&lt;Integer&gt; list = Lists.reverse(Ints.asList(<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>)); <span class="comment">//[3, 2, 1]</span></span><br></pre></td></tr></table></figure>



<h2 id="Maps"><a href="#Maps" class="headerlink" title="Maps"></a>Maps</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 创建 HashMap</span></span><br><span class="line">Map map = Maps.newHashMap();</span><br><span class="line">Map map = Maps.newHashMap(Map&lt;? extends K, ? extends V&gt; map);</span><br><span class="line">Map map = Maps.newHashMapWithExpectedSize(<span class="keyword">int</span> expectedSize); <span class="comment">// 创建一个符合期望大小的 HashMap</span></span><br><span class="line">Map map = Maps.newConcurrentMap(); <span class="comment">// 创建一个 ConcurrentHashMap</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 创建一个 EnumMap, EnumMap 可以用来代替索引，以及处理不太频繁改变的对象之间的挂载。</span></span><br><span class="line"><span class="class"><span class="keyword">enum</span> <span class="title">DEPARTMENT</span> </span>&#123;</span><br><span class="line">  UI, DEVELOP, TEST;</span><br><span class="line">&#125;</span><br><span class="line">EnumMap&lt;DEPARTMENT, Map&lt;String,String&gt;&gt; map = Maps.newEnumMap(DEPARTMENT.class);</span><br><span class="line">map.put(DEPARTMENT.UI, Maps.toMap(Arrays.asList(<span class="string">&quot;ui-1&quot;</span>, <span class="string">&quot;ui-2&quot;</span>), k -&gt; k + <span class="string">&quot; info&quot;</span>));</span><br><span class="line">map.put(DEPARTMENT.DEVELOP, Maps.toMap(Arrays.asList(<span class="string">&quot;dev-1&quot;</span>, <span class="string">&quot;dev-2&quot;</span>), k -&gt; k + <span class="string">&quot; info&quot;</span>));</span><br><span class="line">map.put(DEPARTMENT.TEST, Maps.toMap(Arrays.asList(<span class="string">&quot;test-1&quot;</span>, <span class="string">&quot;test-2&quot;</span>), k -&gt; k + <span class="string">&quot; info&quot;</span>));</span><br><span class="line"><span class="comment">// &#123;UI=&#123;ui-1=ui-1 info, ui-2=ui-2 info&#125;, DEVELOP=&#123;dev-1=dev-1 info, dev-2=dev-2 info&#125;, TEST=&#123;test-1=test-1 info, test-2=test-2 info&#125;&#125;</span></span><br><span class="line"><span class="comment">// 创建一个不可变的 EnumMap</span></span><br><span class="line">Maps.immutableEnumMap(Map&lt;K, ? extends V&gt; map);</span><br><span class="line"></span><br><span class="line"><span class="comment">// 创建 LinkedHashMap</span></span><br><span class="line">LinkedHashMap map = Maps.newLinkedHashMap();</span><br><span class="line">LinkedHashMap map = Maps.newLinkedHashMap(Map&lt;? extends K, ? extends V&gt; map);</span><br><span class="line">LinkedHashMap map = Maps.newLinkedHashMapWithExpectedSize(<span class="keyword">int</span> expectedSize);</span><br><span class="line"></span><br><span class="line"><span class="comment">// 创建 TreeMap</span></span><br><span class="line">TreeMap treeMap = Maps.newTreeMap();</span><br><span class="line">TreeMap treeMap = Maps.newTreeMap(SortedMap&lt;K, ? extends V&gt; map);</span><br><span class="line">TreeMap treeMap = Maps.newTreeMap(<span class="meta">@Nullable</span> Comparator&lt;C&gt; comparator);</span><br><span class="line"></span><br><span class="line"><span class="comment">// asMap -&gt; set 集合按照 key 值转变成 map 集合, asMap 之后不可添加/修改元素，但可以移除/查看元素</span></span><br><span class="line">Map&lt;K, V&gt; map = Maps.asMap(Set&lt;K&gt; set, Function&lt;? <span class="keyword">super</span> K, V&gt; function);</span><br><span class="line">SortedMap&lt;K, V&gt; map = Maps.asMap(SortedSet&lt;K&gt; set, Function&lt;? <span class="keyword">super</span> K, V&gt; function);</span><br><span class="line">NavigableMap&lt;K, V&gt; map = Maps.asMap(NavigableSet&lt;K&gt; set, Function&lt;? <span class="keyword">super</span> K, V&gt; function);</span><br><span class="line">Map&lt;Integer, Integer&gt; map = Maps.asMap(Sets.newLinkedHashSet(Ints.asList(<span class="number">4</span>, <span class="number">2</span>, <span class="number">3</span>)), i -&gt; i * <span class="number">2</span>); <span class="comment">// &#123;4=8, 2=4, 3=6&#125;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// toMap 集合按照元素值转变成 map 集合，toMap 返回的是不可变集合，不支持增删改操作</span></span><br><span class="line">ImmutableMap map = Maps.toMap(Iterable&lt;K&gt; keys, Function&lt;? <span class="keyword">super</span> K, V&gt; valueFunction);</span><br><span class="line">ImmutableMap map = Maps.toMap(Iterator&lt;K&gt; keys, Function&lt;? <span class="keyword">super</span> K, V&gt; valueFunction)</span><br><span class="line">ImmutableMap&lt;Integer, String&gt; map = Maps.toMap(Ints.asList(<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>), k -&gt; k + <span class="string">&quot;0&quot;</span>); <span class="comment">// &#123;1=10, 2=20, 3=30&#125;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// uniqueIndex 与 toMap 互补，toMap 是以 key 生成 value，uniqueIndex 是以 value 生成 key, key 必须唯一</span></span><br><span class="line">ImmutableMap map = Maps.uniqueIndex(Iterable&lt;V&gt; values, Function&lt;? <span class="keyword">super</span> V, K&gt; keyFunction);</span><br><span class="line">ImmutableMap map = Maps.uniqueIndex(Iterator&lt;V&gt; values, Function&lt;? <span class="keyword">super</span> V, K&gt; keyFunction);</span><br><span class="line">ImmutableMap&lt;String, Integer&gt; map = Maps.uniqueIndex(Ints.asList(<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>), i -&gt; <span class="string">&quot;0&quot;</span> + i); <span class="comment">// &#123;01=1, 02=2, 03=3&#125;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// diffenence 比较两个集合元素的异同</span></span><br><span class="line">ImmutableMap&lt;String, Integer&gt; leftMap = ImmutableMap.of(<span class="string">&quot;a&quot;</span>, <span class="number">1</span>, <span class="string">&quot;b&quot;</span>, <span class="number">2</span>, <span class="string">&quot;c&quot;</span>,<span class="number">3</span>);</span><br><span class="line">ImmutableMap&lt;String, Integer&gt; rightMap = ImmutableMap.of(<span class="string">&quot;a&quot;</span>, <span class="number">2</span>, <span class="string">&quot;b&quot;</span>, <span class="number">2</span>, <span class="string">&quot;d&quot;</span>,<span class="number">4</span>);</span><br><span class="line">MapDifference&lt;String, Integer&gt; diff = Maps.difference(leftMap, rightMap);</span><br><span class="line">Map&lt;String, Integer&gt; onlyOnLeft = diff.entriesOnlyOnLeft(); <span class="comment">// &#123;c=3&#125;</span></span><br><span class="line">Map&lt;String, Integer&gt; onlyOnRight = diff.entriesOnlyOnRight(); <span class="comment">// &#123;d=4&#125;</span></span><br><span class="line">Map&lt;String, Integer&gt; inCommon = diff.entriesInCommon(); <span class="comment">// &#123;b=2&#125;</span></span><br><span class="line">Map&lt;String, ValueDifference&lt;Integer&gt;&gt; differing = diff.entriesDiffering(); <span class="comment">// &#123;a=(1, 2)&#125;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// filterKeys 按 key 过滤 map</span></span><br><span class="line"><span class="function">Map&lt;K, V&gt; <span class="title">filterKeys</span><span class="params">(Map&lt;K, V&gt; unfiltered, Predicate&lt;? <span class="keyword">super</span> K&gt; keyPredicate)</span></span>;</span><br><span class="line"><span class="function">SortedMap&lt;K, V&gt; <span class="title">filterKeys</span><span class="params">(SortedMap&lt;K, V&gt; unfiltered, Predicate&lt;? <span class="keyword">super</span> K&gt; keyPredicate)</span></span>;</span><br><span class="line"><span class="function">NavigableMap&lt;K, V&gt; <span class="title">filterKeys</span><span class="params">(NavigableMap&lt;K, V&gt; unfiltered, Predicate&lt;? <span class="keyword">super</span> K&gt; keyPredicate)</span></span>;</span><br><span class="line"><span class="function">BiMap&lt;K, V&gt; <span class="title">filterKeys</span><span class="params">(BiMap&lt;K, V&gt; unfiltered, Predicate&lt;? <span class="keyword">super</span> K&gt; keyPredicate)</span></span>;</span><br><span class="line">Maps.filterKeys(ImmutableMap.of(<span class="string">&quot;a&quot;</span>, <span class="number">1</span>, <span class="string">&quot;b&quot;</span>, <span class="number">2</span>, <span class="string">&quot;c&quot;</span>, <span class="number">3</span>), key -&gt; !key.equals(<span class="string">&quot;a&quot;</span>)); <span class="comment">// &#123;b=2, c=3&#125;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// filterValues 按 value 过滤 map</span></span><br><span class="line"><span class="function">Map&lt;K, V&gt; <span class="title">filterValues</span><span class="params">(Map&lt;K, V&gt; unfiltered, Predicate&lt;? <span class="keyword">super</span> V&gt; valuePredicate)</span></span>;</span><br><span class="line"><span class="function">SortedMap&lt;K, V&gt; <span class="title">filterValues</span><span class="params">(SortedMap&lt;K, V&gt; unfiltered, Predicate&lt;? <span class="keyword">super</span> V&gt; valuePredicate)</span></span>;</span><br><span class="line"><span class="function">NavigableMap&lt;K, V&gt; <span class="title">filterValues</span><span class="params">(NavigableMap&lt;K, V&gt; unfiltered, Predicate&lt;? <span class="keyword">super</span> V&gt; valuePredicate)</span></span>;</span><br><span class="line"><span class="function">BiMap&lt;K, V&gt; <span class="title">filterValues</span><span class="params">(BiMap&lt;K, V&gt; unfiltered, Predicate&lt;? <span class="keyword">super</span> V&gt; valuePredicate)</span></span></span><br><span class="line"><span class="function">Maps.<span class="title">filterValues</span><span class="params">(ImmutableMap.of(<span class="string">&quot;a&quot;</span>, <span class="number">1</span>, <span class="string">&quot;b&quot;</span>, <span class="number">2</span>, <span class="string">&quot;c&quot;</span>, <span class="number">3</span>)</span>, val -&gt; val &gt; 1)</span>; <span class="comment">// &#123;b=2, c=3&#125;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// filterEntries 按照 entry 过滤 map</span></span><br><span class="line"><span class="function">Map&lt;K, V&gt; <span class="title">filterEntries</span><span class="params">(Map&lt;K, V&gt; unfiltered, Predicate&lt;? <span class="keyword">super</span> Entry&lt;K, V&gt;&gt; entryPredicate)</span></span>;</span><br><span class="line"><span class="function">SortedMap&lt;K, V&gt; <span class="title">filterEntries</span><span class="params">(SortedMap&lt;K, V&gt; unfiltered, Predicate&lt;? <span class="keyword">super</span> Entry&lt;K, V&gt;&gt; entryPredicate)</span></span>;</span><br><span class="line"><span class="function">NavigableMap&lt;K, V&gt; <span class="title">filterEntries</span><span class="params">(NavigableMap&lt;K, V&gt; unfiltered, Predicate&lt;? <span class="keyword">super</span> Entry&lt;K, V&gt;&gt; entryPredicate)</span></span>;</span><br><span class="line"><span class="function">BiMap&lt;K, V&gt; <span class="title">filterEntries</span><span class="params">(BiMap&lt;K, V&gt; unfiltered, Predicate&lt;? <span class="keyword">super</span> Entry&lt;K, V&gt;&gt; entryPredicate)</span></span>;</span><br><span class="line">Maps.filterEntries(ImmutableMap.of(<span class="string">&quot;a&quot;</span>, <span class="number">1</span>, <span class="string">&quot;b&quot;</span>, <span class="number">2</span>, <span class="string">&quot;c&quot;</span>, <span class="number">3</span>), entry -&gt; !entry.getKey().equals(<span class="string">&quot;a&quot;</span>) &amp;&amp; entry.getValue() &gt; <span class="number">2</span>); <span class="comment">// &#123;c=3&#125;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// transformEntries 按 key 和 value 转换 map</span></span><br><span class="line"><span class="function">Map&lt;K, V2&gt; <span class="title">transformEntries</span><span class="params">(Map&lt;K, V1&gt; fromMap, Maps.EntryTransformer&lt;? <span class="keyword">super</span> K, ? <span class="keyword">super</span> V1, V2&gt; transformer)</span></span>;</span><br><span class="line"><span class="function">SortedMap&lt;K, V2&gt; <span class="title">transformEntries</span><span class="params">(SortedMap&lt;K, V1&gt; fromMap, Maps.EntryTransformer&lt;? <span class="keyword">super</span> K, ? <span class="keyword">super</span> V1, V2&gt; transformer)</span></span>;</span><br><span class="line"><span class="function">NavigableMap&lt;K, V2&gt; <span class="title">transformEntries</span><span class="params">(NavigableMap&lt;K, V1&gt; fromMap, Maps.EntryTransformer&lt;? <span class="keyword">super</span> K, ? <span class="keyword">super</span> V1, V2&gt; transformer)</span></span>;</span><br><span class="line">Map&lt;Integer, Integer&gt; fromMap = Maps.asMap(Sets.newLinkedHashSet(Ints.asList(<span class="number">4</span>, <span class="number">2</span>, <span class="number">3</span>)), i -&gt; i * <span class="number">2</span>);</span><br><span class="line">Map&lt;Integer, String&gt; map = Maps.transformEntries(fromMap, (k, v) -&gt; k + <span class="string">&quot;:&quot;</span> + v);</span><br><span class="line"></span><br><span class="line"><span class="comment">// transformValues 按 value 转换 map</span></span><br><span class="line"><span class="function">Map&lt;K, V2&gt; <span class="title">transformValues</span><span class="params">(Map&lt;K, V1&gt; fromMap, Function&lt;? <span class="keyword">super</span> V1, V2&gt; function)</span></span>;</span><br><span class="line"><span class="function">SortedMap&lt;K, V2&gt; <span class="title">transformValues</span><span class="params">(SortedMap&lt;K, V1&gt; fromMap, Function&lt;? <span class="keyword">super</span> V1, V2&gt; function)</span></span>;</span><br><span class="line"><span class="function">NavigableMap&lt;K, V2&gt; <span class="title">transformValues</span><span class="params">(NavigableMap&lt;K, V1&gt; fromMap, Function&lt;? <span class="keyword">super</span> V1, V2&gt; function)</span></span>;</span><br><span class="line">Map&lt;Integer, Integer&gt; fromMap = Maps.asMap(Sets.newLinkedHashSet(Ints.asList(<span class="number">4</span>, <span class="number">2</span>, <span class="number">3</span>)), i -&gt; i * <span class="number">2</span>);</span><br><span class="line">Map&lt;Integer, String&gt; map = Maps.transformValues(fromMap, k -&gt; k + <span class="string">&quot;0&quot;</span>); <span class="comment">// &#123;4=80, 2=40, 3=60&#125;</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>



<h2 id="Sets"><a href="#Sets" class="headerlink" title="Sets"></a>Sets</h2><p>不在整理，留在运用时理解记忆。</p>
</div><div class="post-copyright"><script type="text/javascript" src="/js/copyright.js" successtext="复制成功!"></script><link rel="stylesheet" type="text/css" href="/css/copyright.css"><p><span>本文标题：</span>Guava 3 - Collections - 1</p><p><span>文章作者：</span>mjd507</p><p><span>发布时间：</span>2018-06-14</p><p><span>最后更新：</span>2021-09-07</p><p><span>原始链接：</span><a href="/2018/06/14/Guava-Guide-3/">https://mjd507.github.io/2018/06/14/Guava-Guide-3/</a><span class="copy-path"><i class="fa fa-clipboard" data-clipboard-text="https://mjd507.github.io/2018/06/14/Guava-Guide-3/"></i></span></p><p><span>版权声明：</span>This station is mainly used to sort out incomprehensible knowledge. I have not fully mastered most of the content. Please refer carefully.</p></div><br><div class="tags"></div><div class="post-nav"><a class="pre" href="/2018/06/19/Guava-Guide-4/">Guava 4 - Collections - 2 &amp; range</a><a class="next" href="/2018/05/17/Guava-Guide-2/">Guava 2 - Primitives, Strings &amp; Cache</a></div><div id="container"></div><link rel="stylesheet" type="text/css" href="//unpkg.com/gitalk/dist/gitalk.css?v=1.0.0"><script type="text/javascript" src="//cdn.bootcss.com/blueimp-md5/2.10.0/js/md5.js?v=1.0.0"></script><script type="text/javascript" src="//unpkg.com/gitalk/dist/gitalk.min.js?v=1.0.0"></script><script>var gitalk = new Gitalk({
  clientID: 'fa8d49cc90698365347d',
  clientSecret: 'ad101f458b7f3950fccc09b931977c106cd2c467',
  repo: 'mjd507.github.io',
  owner: 'mjd507',
  admin: ['mjd507'],
  id: md5(location.pathname),
  distractionFreeMode: false
})
gitalk.render('container')
</script></div></div></div><div class="pure-u-1-4 hidden_mid_and_down"><div id="sidebar"><div class="widget"><div class="widget-title"><i class="fa fa-folder-o"> 分类</i></div><ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/Back-End/">Back-End</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Big-Front-End/">Big-Front-End</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Data-Structure-Algorithm/">Data Structure & Algorithm</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Java-Android/">Java & Android</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Network/">Network</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Operation-System/">Operation System</a></li></ul></div><div class="widget"><div class="widget-title"><i class="fa fa-external-link"> 友情链接</i></div><ul></ul><a href="https://imququ.com/" title="Jerry Qu" target="_blank">Jerry Qu</a><ul></ul><a href="https://daimajia.com/" title="代码家" target="_blank">代码家</a><ul></ul><a href="https://sivers.org/" title="Derek Sivers" target="_blank">Derek Sivers</a><ul></ul><a href="http://www.hugogu.cn/" title="Hugo Gu" target="_blank">Hugo Gu</a></div></div></div><div class="pure-u-1 pure-u-md-3-4"><div id="footer">Copyright © 2024 <a href="/." rel="nofollow">mjd507.</a> Powered by<a rel="nofollow" target="_blank" href="https://hexo.io"> Hexo.</a><a rel="nofollow" target="_blank" href="https://github.com/tufu9441/maupassant-hexo"> Theme</a> by<a rel="nofollow" target="_blank" href="https://github.com/pagecho"> Cho.</a></div></div></div><a class="show" id="rocket" href="#top"></a><script type="text/javascript" src="/js/totop.js?v=1.0.0" async></script><script type="text/javascript" src="//cdn.jsdelivr.net/gh/fancyapps/fancybox/dist/jquery.fancybox.min.js" async></script><script type="text/javascript" src="/js/fancybox.js?v=1.0.0" async></script><link rel="stylesheet" type="text/css" href="//cdn.jsdelivr.net/gh/fancyapps/fancybox/dist/jquery.fancybox.min.css"><script type="text/javascript" src="/js/copycode.js" successtext="复制成功!"></script><link rel="stylesheet" type="text/css" href="/css/copycode.css"><script type="text/javascript" src="/js/codeblock-resizer.js?v=1.0.0"></script><script type="text/javascript" src="/js/smartresize.js?v=1.0.0"></script></div></body></html>